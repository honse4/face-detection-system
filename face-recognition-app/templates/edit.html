{% extends 'header.html' %}

{% block content %}

<div style='display: flex; flex-direction: column; height:100%; '>
<div class='edit-main' style='flex-grow: 1'>
    <p style="font-family: 'Montserrat', sans-serif; font-size: xx-large"> List Of Employees </p>
    {% if emps%}
    <div class='search-form'>
        <div class='searchbar'>
            <form action='/edit' style='display: flex; width:100%;' method='GET' enctype="multipart/form-data">
            <input type='text' style='border: 0; outline: none; flex-grow:1; border-radius: 25px;' name='search' id='search' required>
            <input class='form-search-button' type='submit' style='border: 0; border-radius: 25px; height: 2rem; width: 2rem;flex:1;' value='S'>
        </form>
    </div>
    {% endif %}
</div>
{% for emp in emps %}
<div class='row' id="{{emp['id']}}">
    <p class='part' style="font-family: 'Montserrat', sans-serif;"> {{emp['firstname']}}</p>
    <p class='part' style="font-family: 'Montserrat', sans-serif;"> {{emp['lastname']}}</p>
    <img src="{{ url_for('uploaded_file', filename=emp.image_path) }}" style='max-width:80px' class='part' alt="Image" width="64" height="50" >
    <div class='part btn-centre'>
        <button class='edit-btn' onclick="window.location.href='/edit/{{emp['id']}}'"> Edit </button>
        <button class='delete-btn' id='delete' onclick="deleteItem({{emp['id']}})"> Delete </button>
    </div>
</div>
{% endfor %}
</div>
<div class='messages' >
    {% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
        {% for category, message in messages %}
            {% if category == 'success'%}
                <p style="color:green" class="{{ category }}">{{ message }}</p>
            {% endif%}
        {% endfor %}
{% endif %}
{% endwith %}
    </div>
</div>
<script src="{{ url_for('static', filename='js/additional.js') }}"></script>

{% endblock %}
